<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
    <title>Frogger</title>
	<link rel="stylesheet" type="text/css" href="stile.css">
</head>

<body>
	<h1>FROGGER</h1>
	<div style="text-align:center">
        <canvas id="canv" width="500" height="500"></canvas>
    </div>
	<!--
	<div style="text-align:center">
		<canvas id="canvPunti" width="500" height="100"></canvas>
    </div>
	-->
	<script src="gestioneTasti.js"></script>
	<script src="giocatore.js"></script>
	<script src="terreno.js"></script>
	
    <script>
        var canvas = document.getElementById("canv");
        var ctx = canvas.getContext("2d");
        var dimXcanv = canvas.width;
        var dimYcanv = canvas.height;
        var stop = false;
		var terreno=[
			new Terreno(dimXcanv, 400, 500, 0),
			new Terreno(dimXcanv, 200, 100, 1),
			new Terreno(dimXcanv, 300, -100, 0),
			new Terreno(dimXcanv, 100, -300, 1),
		];
		var ultimo=terreno.length-1;
		
		function gestisciTerreno()
		{
			for(var i=0; i<terreno.length; i++)
			{
				//if(terreno[i].y+terreno[i].dimY>0)
				{
					console.log(i);
					terreno[i].disegnaTerreno();
				}
			}
			
			if(terreno[0].y-terreno[0].dimY>dimYcanv)
			{
				terreno[0].y=terreno[ultimo].y-terreno[ultimo].dimY;
				terreno.push(terreno.shift());
			}
		}
		
		function disegnaSchermo() {
			ctx.beginPath();
			ctx.clearRect(0, 0, dimXcanv, dimYcanv);
			ctx.closePath();
			gestisciTerreno();
			rana.disegnaGiocatore();
        }
		
        let rana = new Giocatore(25, 25);
		
		//Richiamo disegnaSchermo ad ogni frame
		//setInterval(disegnaSchermo, 20);
		setInterval(disegnaSchermo, 20);
    </script>
</body>

</html>